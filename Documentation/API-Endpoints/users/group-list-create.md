# List Groups or Create Group

Allows an authenticated user to retrieve a paginated list of all groups or create a new group.

## Endpoint URL

`/api/groups/`

## HTTP Methods

* `GET`: Retrieves a paginated list of all groups.
* `POST`: Creates a new group.

## Permissions

* **Requires Authentication**: Yes (`permissions.IsAuthenticated`)
  * Only authenticated users can access this endpoint.
  * *TODO: While the base permission is `IsAuthenticated`, creating groups (`POST`) is often restricted to administrators or users with specific privileges in a production environment. Listing groups (`GET`) might also have varied access levels depending on application requirements.*

---

## `GET` - List All Groups

Retrieves a paginated list of all available groups.

**Request Headers:**

| Header        | Value                 | Required | Description                                     |
| :------------ | :-------------------- | :------- | :---------------------------------------------- |
| `Authorization` | `Bearer <access_token>` | Yes      | For token-based authentication.                 |

**Query Parameters:**

| Parameter | Type    | Optional | Description                                      | Default |
| :-------- | :------ | :------- | :----------------------------------------------- | :------ |
| `page`    | Integer | Yes      | A page number within the paginated result set.   | 1       |
| `page_size`| Integer | Yes      | Number of results to return per page.           | 10 (as set in `GroupListCreateView`) |

**Successful `GET` Response:**

**Status Code:** `200 OK`

The response will be a paginated JSON object containing a list of groups.

**Example `GET` JSON Response:**

```json
{
    "count": 5,
    "next": null,
    "previous": null,
    "results": [
        {
            "url": "/api/groups/1/",
            "name": "Administrators"
        },
        {
            "url": "/api/groups/2/",
            "name": "Editors"
        },
        {
            "url": "/api/groups/3/",
            "name": "Viewers"
        }
    ]
}
```

**Response Fields (Paginated Structure):**

| Field      | Type   | Description                                                                  |
| :--------- | :----- | :--------------------------------------------------------------------------- |
| `count`    | Integer| The total number of groups available.                                        |
| `next`     | String | URL to the next page of results, or `null` if this is the last page.         |
| `previous` | String | URL to the previous page of results, or `null` if this is the first page.    |
| `results`  | Array  | An array of group objects. Each object contains the fields defined below.    |

**Response Fields (Group Object in `results`):**

| Field | Type   | Description                        |
| :---- | :----- | :--------------------------------- |
| `url` | String | The hyperlink to this group resource. |
| `name`| String | The name of the group.             |

---

## `POST` - Create Group

Creates a new user group.

**Request Headers:**

| Header        | Value                 | Required | Description                                       |
| :------------ | :-------------------- | :------- | :------------------------------------------------ |
| `Authorization` | `Bearer <access_token>` | Yes      | For token-based authentication.                   |
| `Content-Type`  | `application/json`    | Yes      | Specifies that the request body is in JSON format. |

**Request Body:**

The request body must be a JSON object containing the details for the new group.

**Fields (from `GroupSerializer`):**

| Field | Type   | Required | Description             |
| :---- | :----- | :------- | :---------------------- |
| `name`| String | Yes      | The name of the new group. Must be unique if database constraints enforce this. |

*Note: `url` is read-only and will be generated by the server upon creation.*

**Example `POST` Request Body:**

```json
{
    "name": "Contributors"
}
```

**Successful `POST` Response:**

**Status Code:** `201 Created`

The response will contain the JSON object of the newly created group.

**Example `POST` JSON Response:**

```json
{
    "url": "/api/groups/4/",
    "name": "Contributors"
}
```

---

## Common Error Responses

* **Status Code:** `400 Bad Request`
  * **Reason (for `POST`):** The provided data is invalid (e.g., `name` field missing or not a string, or name already exists and is constrained to be unique).
  * **Response Body (Example - `name` missing):**

```json
{
    "name": [
        "This field is required."
    ]
}
```

  * **Response Body (Example - `name` not a string):**
```json
{
    "name": [
        "Not a valid string."
    ]
}
```

* **Status Code:** `401 Unauthorized`
  * **Reason:** Authentication credentials were not provided or were invalid.
  * **Response Body:**

```json
{
    "detail": "Authentication credentials were not provided."
}
```

* **Status Code:** `403 Forbidden`
  * **Reason (for `POST`):** The authenticated user does not have permission to create groups (e.g., if creating groups is restricted to administrators and the current user is not an admin).
  * **Response Body:**

```json
{
    "detail": "You do not have permission to perform this action."
}
```
